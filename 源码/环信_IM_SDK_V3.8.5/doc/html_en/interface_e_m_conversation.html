<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HyphenateChatSDK: EMConversation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HyphenateChatSDK<span id="projectnumber">&#160;3.8.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="interface_e_m_conversation-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">EMConversation Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_e_m_conversation_8h_source.html">EMConversation.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EMConversation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_e_m_conversation.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a7883f84d016394fd0a0454a5a89ff31a"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a7883f84d016394fd0a0454a5a89ff31a">lastReceivedMessage</a></td></tr>
<tr class="separator:a7883f84d016394fd0a0454a5a89ff31a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f20d6f1196855618dbec1da33d6c03"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a00f20d6f1196855618dbec1da33d6c03">insertMessage:error:</a></td></tr>
<tr class="separator:a00f20d6f1196855618dbec1da33d6c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5973ef242c18a964184857cd1e8d00e"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#ac5973ef242c18a964184857cd1e8d00e">appendMessage:error:</a></td></tr>
<tr class="separator:ac5973ef242c18a964184857cd1e8d00e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6ec4bf1c5cb6d2ac516430c726bf17"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#adc6ec4bf1c5cb6d2ac516430c726bf17">deleteMessageWithId:error:</a></td></tr>
<tr class="separator:adc6ec4bf1c5cb6d2ac516430c726bf17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f2b71c03473e4de999eb3cb4e7b946"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a22f2b71c03473e4de999eb3cb4e7b946">deleteAllMessages:</a></td></tr>
<tr class="separator:a22f2b71c03473e4de999eb3cb4e7b946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b643ffce5f761091ebd9d4defb4ec5"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#ab7b643ffce5f761091ebd9d4defb4ec5">updateMessageChange:error:</a></td></tr>
<tr class="separator:ab7b643ffce5f761091ebd9d4defb4ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e2a01852fd5e53595a54eaffc0e8ca"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a97e2a01852fd5e53595a54eaffc0e8ca">markMessageAsReadWithId:error:</a></td></tr>
<tr class="separator:a97e2a01852fd5e53595a54eaffc0e8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05803775b9e1ee424bb6d352293c5e6d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a05803775b9e1ee424bb6d352293c5e6d">markAllMessagesAsRead:</a></td></tr>
<tr class="separator:a05803775b9e1ee424bb6d352293c5e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e508a043daab1c9044411ec29e19272"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a4e508a043daab1c9044411ec29e19272">loadMessageWithId:error:</a></td></tr>
<tr class="separator:a4e508a043daab1c9044411ec29e19272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1afa99ca0b86ba0f2695a38f86e75f"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a8d1afa99ca0b86ba0f2695a38f86e75f">loadMessagesStartFromId:count:searchDirection:</a></td></tr>
<tr class="separator:a8d1afa99ca0b86ba0f2695a38f86e75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525710761fa145908e3f64b2afaf6b9e"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a525710761fa145908e3f64b2afaf6b9e">loadMessagesStartFromId:count:searchDirection:completion:</a></td></tr>
<tr class="separator:a525710761fa145908e3f64b2afaf6b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de924787d3a542af848f8542b6c76dc"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a0de924787d3a542af848f8542b6c76dc">loadMessagesWithType:timestamp:count:fromUser:searchDirection:</a></td></tr>
<tr class="separator:a0de924787d3a542af848f8542b6c76dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acafcf7742ee82568ff0f2b03e61561f4"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#acafcf7742ee82568ff0f2b03e61561f4">loadMessagesWithType:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:acafcf7742ee82568ff0f2b03e61561f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab67d51b00edb58a23d04524629b9fdd"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#aab67d51b00edb58a23d04524629b9fdd">loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:</a></td></tr>
<tr class="separator:aab67d51b00edb58a23d04524629b9fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd78471467590a60d3d42aa7a2392bf"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a7bd78471467590a60d3d42aa7a2392bf">loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:a7bd78471467590a60d3d42aa7a2392bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1db8fccd4953866ed23bfce32b33e7"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a9c1db8fccd4953866ed23bfce32b33e7">loadCustomMsgWithKeyword:timestamp:count:fromUser:searchDirection:</a></td></tr>
<tr class="separator:a9c1db8fccd4953866ed23bfce32b33e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e18e9122099e5182893ca1556af9ea"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#ab0e18e9122099e5182893ca1556af9ea">loadCustomMsgWithKeyword:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:ab0e18e9122099e5182893ca1556af9ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9578535f2778e3806a889440243a03b7"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a9578535f2778e3806a889440243a03b7">loadMessagesFrom:to:count:</a></td></tr>
<tr class="separator:a9578535f2778e3806a889440243a03b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb3ec0083571eb6885c7fde75b66a340"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#abb3ec0083571eb6885c7fde75b66a340">loadMessagesFrom:to:count:completion:</a></td></tr>
<tr class="separator:abb3ec0083571eb6885c7fde75b66a340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e403b232842d61167575d6f61f79ba0"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a6e403b232842d61167575d6f61f79ba0">insertMessage:</a></td></tr>
<tr class="separator:a6e403b232842d61167575d6f61f79ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1d236d22fe6a671e8fd03e409558c0"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a0d1d236d22fe6a671e8fd03e409558c0">appendMessage:</a></td></tr>
<tr class="separator:a0d1d236d22fe6a671e8fd03e409558c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad400ad00b8a2ff18c8dae1a38fea6616"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#ad400ad00b8a2ff18c8dae1a38fea6616">deleteMessageWithId:</a></td></tr>
<tr class="separator:ad400ad00b8a2ff18c8dae1a38fea6616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f2e7e15d859468f7ec0f0accbf2e62"><td class="memItemLeft" align="right" valign="top">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#a22f2b71c03473e4de999eb3cb4e7b946">deleteAllMessages:</a> instead&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a17f2e7e15d859468f7ec0f0accbf2e62">__deprecated_msg</a></td></tr>
<tr class="separator:a17f2e7e15d859468f7ec0f0accbf2e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa01bfcb15788ee98b105daa338622d79"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#aa01bfcb15788ee98b105daa338622d79">updateMessage:</a></td></tr>
<tr class="separator:aa01bfcb15788ee98b105daa338622d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da3b4bc8f1c68fee1b8f9b549765dec"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a5da3b4bc8f1c68fee1b8f9b549765dec">markMessageAsReadWithId:</a></td></tr>
<tr class="separator:a5da3b4bc8f1c68fee1b8f9b549765dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c516d050efb0c6afb4f0e822eda08f"><td class="memItemLeft" align="right" valign="top">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#a05803775b9e1ee424bb6d352293c5e6d">markAllMessagesAsRead:</a> instead&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#ac1c516d050efb0c6afb4f0e822eda08f">__deprecated_msg</a></td></tr>
<tr class="separator:ac1c516d050efb0c6afb4f0e822eda08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf23778a85147bceed41fb60f51c654"><td class="memItemLeft" align="right" valign="top">(&quot;setExt: will update extend properties to DB&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#abaf23778a85147bceed41fb60f51c654">__deprecated_msg</a></td></tr>
<tr class="separator:abaf23778a85147bceed41fb60f51c654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce180a84b071970f474fbc5a7dfbead"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a0ce180a84b071970f474fbc5a7dfbead">loadMessageWithId:</a></td></tr>
<tr class="separator:a0ce180a84b071970f474fbc5a7dfbead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab890470e6cad51810b26b33e9275e5dc"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#ab890470e6cad51810b26b33e9275e5dc">loadMoreMessagesFromId:limit:direction:</a></td></tr>
<tr class="separator:ab890470e6cad51810b26b33e9275e5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289113b6b321e4479fa30719b18b9fec"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a289113b6b321e4479fa30719b18b9fec">loadMoreMessagesWithType:before:limit:from:direction:</a></td></tr>
<tr class="separator:a289113b6b321e4479fa30719b18b9fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3920ad00da7aaef7e3bdea5b73e6945c"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a3920ad00da7aaef7e3bdea5b73e6945c">loadMoreMessagesContain:before:limit:from:direction:</a></td></tr>
<tr class="separator:a3920ad00da7aaef7e3bdea5b73e6945c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4abf419f40938d3cda3ce1a28f2eeba5"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a4abf419f40938d3cda3ce1a28f2eeba5">loadMoreMessagesFrom:to:maxCount:</a></td></tr>
<tr class="separator:a4abf419f40938d3cda3ce1a28f2eeba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ce8f97bc4521126cc8fc765d0b8935"><td class="memItemLeft" align="right" valign="top">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#a7883f84d016394fd0a0454a5a89ff31a">lastReceivedMessage</a> instead&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#af2ce8f97bc4521126cc8fc765d0b8935">__deprecated_msg</a></td></tr>
<tr class="separator:af2ce8f97bc4521126cc8fc765d0b8935"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:adadfc8b72fb52e6ec461417ac9e26221"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#adadfc8b72fb52e6ec461417ac9e26221">conversationId</a></td></tr>
<tr class="separator:adadfc8b72fb52e6ec461417ac9e26221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88337abd048972a28dfcc92a8f26a363"><td class="memItemLeft" align="right" valign="top">EMConversationType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#a88337abd048972a28dfcc92a8f26a363">type</a></td></tr>
<tr class="separator:a88337abd048972a28dfcc92a8f26a363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f666957be5047ae9560942f168b078"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#ac0f666957be5047ae9560942f168b078">unreadMessagesCount</a></td></tr>
<tr class="separator:ac0f666957be5047ae9560942f168b078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164480add35abfde2c733d264373388a"><td class="memItemLeft" align="right" valign="top">NSDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#a164480add35abfde2c733d264373388a">ext</a></td></tr>
<tr class="separator:a164480add35abfde2c733d264373388a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a7bd7077a0bdffcf81fe3f282fe416"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_e_m_message.html">EMMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#a21a7bd7077a0bdffcf81fe3f282fe416">latestMessage</a></td></tr>
<tr class="separator:a21a7bd7077a0bdffcf81fe3f282fe416"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Chat conversation </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a id="af2ce8f97bc4521126cc8fc765d0b8935" name="af2ce8f97bc4521126cc8fc765d0b8935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2ce8f97bc4521126cc8fc765d0b8935">&#9670;&nbsp;</a></span>__deprecated_msg <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (&quot;Use -<a class="el" href="interface_e_m_conversation.html#a7883f84d016394fd0a0454a5a89ff31a">lastReceivedMessage</a> instead&quot;) __deprecated_msg </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get latest message that received from others</p>
<dl class="section return"><dt>Returns</dt><dd>Message instance </dd></dl>

</div>
</div>
<a id="abaf23778a85147bceed41fb60f51c654" name="abaf23778a85147bceed41fb60f51c654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf23778a85147bceed41fb60f51c654">&#9670;&nbsp;</a></span>__deprecated_msg <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- &quot;setExt: </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Update conversation extend properties to DB</p>
<dl class="section return"><dt>Returns</dt><dd>Extend properties update result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a id="ac1c516d050efb0c6afb4f0e822eda08f" name="ac1c516d050efb0c6afb4f0e822eda08f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c516d050efb0c6afb4f0e822eda08f">&#9670;&nbsp;</a></span>__deprecated_msg <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (&quot;Use -)<a class="el" href="interface_e_m_conversation.html#a05803775b9e1ee424bb6d352293c5e6d">markAllMessagesAsRead:</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Mark all message as read</p>
<dl class="section return"><dt>Returns</dt><dd>Result of mark all message as read, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a id="a17f2e7e15d859468f7ec0f0accbf2e62" name="a17f2e7e15d859468f7ec0f0accbf2e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f2e7e15d859468f7ec0f0accbf2e62">&#9670;&nbsp;</a></span>__deprecated_msg <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (&quot;Use -)<a class="el" href="interface_e_m_conversation.html#a22f2b71c03473e4de999eb3cb4e7b946">deleteAllMessages:</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Delete all message of the conversation</p>
<dl class="section return"><dt>Returns</dt><dd>Delete result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a id="a0d1d236d22fe6a671e8fd03e409558c0" name="a0d1d236d22fe6a671e8fd03e409558c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d1d236d22fe6a671e8fd03e409558c0">&#9670;&nbsp;</a></span>appendMessage:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) appendMessage: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#ac5973ef242c18a964184857cd1e8d00e">appendMessage:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Insert a message to the tail of conversation, message's conversationId should equle to conversation's conversationId, message will be inserted to DB, and update conversation's property</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>Message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message insert result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a id="ac5973ef242c18a964184857cd1e8d00e" name="ac5973ef242c18a964184857cd1e8d00e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5973ef242c18a964184857cd1e8d00e">&#9670;&nbsp;</a></span>appendMessage:error:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_e_m_conversation.html#a0d1d236d22fe6a671e8fd03e409558c0">appendMessage:</a> </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_error.html">EMError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Insert a message to the end of a conversation in local database. ConversationId of the message should be the same as conversationId of the conversation in order to insert the message into the conversation correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>Message </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a22f2b71c03473e4de999eb3cb4e7b946" name="a22f2b71c03473e4de999eb3cb4e7b946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f2b71c03473e4de999eb3cb4e7b946">&#9670;&nbsp;</a></span>deleteAllMessages:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) deleteAllMessages: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_error.html">EMError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Delete all messages of the conversation from memory cache and local database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad400ad00b8a2ff18c8dae1a38fea6616" name="ad400ad00b8a2ff18c8dae1a38fea6616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad400ad00b8a2ff18c8dae1a38fea6616">&#9670;&nbsp;</a></span>deleteMessageWithId:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) deleteMessageWithId: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#adc6ec4bf1c5cb6d2ac516430c726bf17">deleteMessageWithId:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Delete a message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Message's ID who will be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message delete result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a id="adc6ec4bf1c5cb6d2ac516430c726bf17" name="adc6ec4bf1c5cb6d2ac516430c726bf17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc6ec4bf1c5cb6d2ac516430c726bf17">&#9670;&nbsp;</a></span>deleteMessageWithId:error:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_e_m_conversation.html#ad400ad00b8a2ff18c8dae1a38fea6616">deleteMessageWithId:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_error.html">EMError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Delete a message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Id of the message to be deleted </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e403b232842d61167575d6f61f79ba0" name="a6e403b232842d61167575d6f61f79ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e403b232842d61167575d6f61f79ba0">&#9670;&nbsp;</a></span>insertMessage:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) insertMessage: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#a00f20d6f1196855618dbec1da33d6c03">insertMessage:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Insert a message to a conversation. ConversationId of the message should be the same as conversationId of the conversation in order to insert the message into the conversation correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>Message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message insert result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a id="a00f20d6f1196855618dbec1da33d6c03" name="a00f20d6f1196855618dbec1da33d6c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f20d6f1196855618dbec1da33d6c03">&#9670;&nbsp;</a></span>insertMessage:error:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_e_m_conversation.html#a6e403b232842d61167575d6f61f79ba0">insertMessage:</a> </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_error.html">EMError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Insert a message to a conversation in local database and SDK will update the last message automatically ConversationId of the message should be the same as conversationId of the conversation in order to insert the message into the conversation correctly. The inserting message will be inserted based on timestamp. Method <a class="el" href="interface_e_m_conversation.html">EMConversation</a> insertMessage:error: = EMChatManager importMsessage:completion: + update conversation latest message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>Message </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7883f84d016394fd0a0454a5a89ff31a" name="a7883f84d016394fd0a0454a5a89ff31a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7883f84d016394fd0a0454a5a89ff31a">&#9670;&nbsp;</a></span>lastReceivedMessage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_message.html">EMMessage</a> *) lastReceivedMessage </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get last received message</p>
<dl class="section return"><dt>Returns</dt><dd>Message instance </dd></dl>

</div>
</div>
<a id="a9c1db8fccd4953866ed23bfce32b33e7" name="a9c1db8fccd4953866ed23bfce32b33e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c1db8fccd4953866ed23bfce32b33e7">&#9670;&nbsp;</a></span>loadCustomMsgWithKeyword:timestamp:count:fromUser:searchDirection:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *) loadCustomMsgWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeyword</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load custom messages with specified keyword from local database,returning messages are sorted by receiving timestamp based on EMMessageSearchDirection. If reference timestamp is negative, load from the latest messages; if message count is negative, will be handled as count=1</p>
<p >Synchronization method will block the current thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeyword</td><td>Search keyword. aKeyword=nil to ignore </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td>Message sender (optional). Pass nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction EMMessageSearchDirectionUp: get aCount of messages before aMessageId; EMMessageSearchDirectionDown: get aCount of messages after aMessageId * -&mdash;</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_e_m_message.html">EMMessage</a> NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="ab0e18e9122099e5182893ca1556af9ea" name="ab0e18e9122099e5182893ca1556af9ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0e18e9122099e5182893ca1556af9ea">&#9670;&nbsp;</a></span>loadCustomMsgWithKeyword:timestamp:count:fromUser:searchDirection:completion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadCustomMsgWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeyword</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load custom messages with specified keyword from local database,returning messages are sorted by receiving timestamp based on EMMessageSearchDirection. If reference timestamp is negative, load from the latest messages; if message count is negative, will be handled as count=1</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeyword</td><td>Search keyword. aKeyword=nil to ignore </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td>Message sender (optional). Pass nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction EMMessageSearchDirectionUp: get aCount of messages before aMessageId; EMMessageSearchDirectionDown: get aCount of messages after aMessageId * -&mdash; </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9578535f2778e3806a889440243a03b7" name="a9578535f2778e3806a889440243a03b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9578535f2778e3806a889440243a03b7">&#9670;&nbsp;</a></span>loadMessagesFrom:to:count:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *) loadMessagesFrom: </td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aStartTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">to:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aEndTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages within specified time range from local database. Returning messages are sorted by sending timestamp</p>
<p >Synchronization method will block the current thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aStartTimestamp</td><td>Starting timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aEndTimestamp</td><td>Ending timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_e_m_message.html">EMMessage</a> NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="abb3ec0083571eb6885c7fde75b66a340" name="abb3ec0083571eb6885c7fde75b66a340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb3ec0083571eb6885c7fde75b66a340">&#9670;&nbsp;</a></span>loadMessagesFrom:to:count:completion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesFrom: </td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aStartTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">to:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aEndTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages within specified time range from local database. Returning messages are sorted by sending timestamp</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aStartTimestamp</td><td>Starting timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aEndTimestamp</td><td>Ending timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8d1afa99ca0b86ba0f2695a38f86e75f" name="a8d1afa99ca0b86ba0f2695a38f86e75f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d1afa99ca0b86ba0f2695a38f86e75f">&#9670;&nbsp;</a></span>loadMessagesStartFromId:count:searchDirection:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *) loadMessagesStartFromId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages starting from the specified message id from local database. Returning messages are sorted by receiving timestamp based on EMMessageSearchDirection. If the aMessageId is nil, will return starting from the latest message</p>
<p >Synchronization method will block the current thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Start loading messages from the specified message id </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction. EMMessageSearchDirectionUp: get aCount of messages before aMessageId; EMMessageSearchDirectionDown: get aCount of messages after aMessageId</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_e_m_message.html">EMMessage</a> NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="a525710761fa145908e3f64b2afaf6b9e" name="a525710761fa145908e3f64b2afaf6b9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525710761fa145908e3f64b2afaf6b9e">&#9670;&nbsp;</a></span>loadMessagesStartFromId:count:searchDirection:completion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesStartFromId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages starting from the specified message id from local database. Returning messages are sorted by receiving timestamp based on EMMessageSearchDirection. If the aMessageId is nil, will return starting from the latest message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Start loading messages from the specified message id </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction. EMMessageSearchDirectionUp: get aCount of messages before aMessageId; EMMessageSearchDirectionDown: get aCount of messages after aMessageId </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab67d51b00edb58a23d04524629b9fdd" name="aab67d51b00edb58a23d04524629b9fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab67d51b00edb58a23d04524629b9fdd">&#9670;&nbsp;</a></span>loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *) loadMessagesWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeyword</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages with specified keyword from local database, returning messages are sorted by receiving timestamp based on EMMessageSearchDirection. If reference timestamp is negative, load from the latest messages; if message count is negative, will be handled as count=1</p>
<p >Synchronization method will block the current thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeyword</td><td>Search keyword. aKeyword=nil to ignore </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td>Message sender (optional). Pass nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction EMMessageSearchDirectionUp: get aCount of messages before aMessageId; EMMessageSearchDirectionDown: get aCount of messages after aMessageId * -&mdash;</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_e_m_message.html">EMMessage</a> NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="a7bd78471467590a60d3d42aa7a2392bf" name="a7bd78471467590a60d3d42aa7a2392bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd78471467590a60d3d42aa7a2392bf">&#9670;&nbsp;</a></span>loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:completion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeyword</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages with specified keyword from local database, returning messages are sorted by receiving timestamp based on EMMessageSearchDirection. If reference timestamp is negative, load from the latest messages; if message count is negative, will be handled as count=1</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeyword</td><td>Search keyword. aKeyword=nil to ignore </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td>Message sender (optional). Pass nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction EMMessageSearchDirectionUp: get aCount of messages before aMessageId; EMMessageSearchDirectionDown: get aCount of messages after aMessageId * -&mdash; </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0de924787d3a542af848f8542b6c76dc" name="a0de924787d3a542af848f8542b6c76dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de924787d3a542af848f8542b6c76dc">&#9670;&nbsp;</a></span>loadMessagesWithType:timestamp:count:fromUser:searchDirection:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_message.html">EMMessage</a> * &gt; *) loadMessagesWithType: </td>
          <td></td>
          <td class="paramtype">(EMMessageBodyType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aUsername</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages with specified message type from local database. Returning messages are sorted by receiving timestamp based on EMMessageSearchDirection.</p>
<p >Synchronization method will block the current thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aType</td><td>Message type to load </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load. if aCount&lt;0, will be handled as count=1 </td></tr>
    <tr><td class="paramname">aUsername</td><td>Message sender (optional). Use aUsername=nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction EMMessageSearchDirectionUp: get aCount of messages before aMessageId; EMMessageSearchDirectionDown: get aCount of messages after aMessageId</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_e_m_message.html">EMMessage</a> NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="acafcf7742ee82568ff0f2b03e61561f4" name="acafcf7742ee82568ff0f2b03e61561f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acafcf7742ee82568ff0f2b03e61561f4">&#9670;&nbsp;</a></span>loadMessagesWithType:timestamp:count:fromUser:searchDirection:completion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesWithType: </td>
          <td></td>
          <td class="paramtype">(EMMessageBodyType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aUsername</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages with specified message type from local database. Returning messages are sorted by receiving timestamp based on EMMessageSearchDirection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aType</td><td>Message type to load </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load. if aCount&lt;0, will be handled as count=1 </td></tr>
    <tr><td class="paramname">aUsername</td><td>Message sender (optional). Use aUsername=nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction EMMessageSearchDirectionUp: get aCount of messages before aMessageId; EMMessageSearchDirectionDown: get aCount of messages after aMessageId </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ce180a84b071970f474fbc5a7dfbead" name="a0ce180a84b071970f474fbc5a7dfbead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce180a84b071970f474fbc5a7dfbead">&#9670;&nbsp;</a></span>loadMessageWithId:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_message.html">EMMessage</a> *) loadMessageWithId: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#a4e508a043daab1c9044411ec29e19272">loadMessageWithId:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get a message with the ID</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Message's id</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message instance </dd></dl>

</div>
</div>
<a id="a4e508a043daab1c9044411ec29e19272" name="a4e508a043daab1c9044411ec29e19272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e508a043daab1c9044411ec29e19272">&#9670;&nbsp;</a></span>loadMessageWithId:error:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_message.html">EMMessage</a> *) <a class="el" href="interface_e_m_conversation.html#a0ce180a84b071970f474fbc5a7dfbead">loadMessageWithId:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_error.html">EMError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get a message with the ID</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>MessageID </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3920ad00da7aaef7e3bdea5b73e6945c" name="a3920ad00da7aaef7e3bdea5b73e6945c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3920ad00da7aaef7e3bdea5b73e6945c">&#9670;&nbsp;</a></span>loadMoreMessagesContain:before:limit:from:direction:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesContain: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeywords</em></td>
        </tr>
        <tr>
          <td class="paramkey">before:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">from:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -loadMessagesContainKeywords:timestamp:count:fromUser:searchDirection:completion: instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get more messages contain specified keywords from DB, result messages are sorted by received time, if reference timestamp is negative, will fetch message from latest message, andd will fetch all messages that meet the condition if aLimit is negative</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeywords</td><td>Search content, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>Reference timestamp </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td>Message sender, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="a4abf419f40938d3cda3ce1a28f2eeba5" name="a4abf419f40938d3cda3ce1a28f2eeba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4abf419f40938d3cda3ce1a28f2eeba5">&#9670;&nbsp;</a></span>loadMoreMessagesFrom:to:maxCount:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesFrom: </td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aStartTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">to:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aEndTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">maxCount:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#abb3ec0083571eb6885c7fde75b66a340">loadMessagesFrom:to:count:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Load messages from DB in duration, result messages are sorted by receive time, user should limit the max count to load to avoid memory issue</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aStartTimestamp</td><td>Start time's timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aEndTimestamp</td><td>End time's timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aMaxCount</td><td>Message search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="ab890470e6cad51810b26b33e9275e5dc" name="ab890470e6cad51810b26b33e9275e5dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab890470e6cad51810b26b33e9275e5dc">&#9670;&nbsp;</a></span>loadMoreMessagesFromId:limit:direction:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesFromId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#a525710761fa145908e3f64b2afaf6b9e">loadMessagesStartFromId:count:searchDirection:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get more messages from DB, result messages are sorted by receive time, and NOT include the reference message, if reference messag's ID is nil, will fetch message from latest message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Reference message's ID </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="a289113b6b321e4479fa30719b18b9fec" name="a289113b6b321e4479fa30719b18b9fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a289113b6b321e4479fa30719b18b9fec">&#9670;&nbsp;</a></span>loadMoreMessagesWithType:before:limit:from:direction:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesWithType: </td>
          <td></td>
          <td class="paramtype">(EMMessageBodyType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">before:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">from:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#acafcf7742ee82568ff0f2b03e61561f4">loadMessagesWithType:timestamp:count:fromUser:searchDirection:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get more messages with specified type from DB, result messages are sorted by received time, if reference timestamp is negative, will fetch message from latest message, andd will fetch all messages that meet the condition if aLimit is negative</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aType</td><td>Message type to load </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>Reference timestamp </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td>Message sender, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message NSArray&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a id="a05803775b9e1ee424bb6d352293c5e6d" name="a05803775b9e1ee424bb6d352293c5e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05803775b9e1ee424bb6d352293c5e6d">&#9670;&nbsp;</a></span>markAllMessagesAsRead:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) markAllMessagesAsRead: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_error.html">EMError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Mark all messages as read</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5da3b4bc8f1c68fee1b8f9b549765dec" name="a5da3b4bc8f1c68fee1b8f9b549765dec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da3b4bc8f1c68fee1b8f9b549765dec">&#9670;&nbsp;</a></span>markMessageAsReadWithId:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) markMessageAsReadWithId: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#a97e2a01852fd5e53595a54eaffc0e8ca">markMessageAsReadWithId:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Mark a message as read</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Message's ID who will be set read status</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of mark message as read, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a id="a97e2a01852fd5e53595a54eaffc0e8ca" name="a97e2a01852fd5e53595a54eaffc0e8ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97e2a01852fd5e53595a54eaffc0e8ca">&#9670;&nbsp;</a></span>markMessageAsReadWithId:error:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_e_m_conversation.html#a5da3b4bc8f1c68fee1b8f9b549765dec">markMessageAsReadWithId:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_error.html">EMError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Mark a message as read</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>MessageID </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa01bfcb15788ee98b105daa338622d79" name="aa01bfcb15788ee98b105daa338622d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa01bfcb15788ee98b105daa338622d79">&#9670;&nbsp;</a></span>updateMessage:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) updateMessage: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_e_m_conversation.html#ab7b643ffce5f761091ebd9d4defb4ec5">updateMessageChange:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Update a message, can't update message's messageId, conversation's latestMessage and so on properties will update after update the message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>Message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message update result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a id="ab7b643ffce5f761091ebd9d4defb4ec5" name="ab7b643ffce5f761091ebd9d4defb4ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7b643ffce5f761091ebd9d4defb4ec5">&#9670;&nbsp;</a></span>updateMessageChange:error:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) updateMessageChange: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_error.html">EMError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Use this method to update a message in local database. Changing properties will affect data in database LatestMessage of the conversation and other properties will be updated accordingly. messageId of the message cannot be updated</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>Message </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="adadfc8b72fb52e6ec461417ac9e26221" name="adadfc8b72fb52e6ec461417ac9e26221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adadfc8b72fb52e6ec461417ac9e26221">&#9670;&nbsp;</a></span>conversationId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) conversationId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >conversation ID For single chat，conversation ID is to chat user's name For group chat, conversation ID is groupID(), different with getGroupName() For chat room, conversation ID is chatroom ID, different with chat room name() For help desk, it is same with single chat, conversationID is also chat user's name </p>

</div>
</div>
<a id="a164480add35abfde2c733d264373388a" name="a164480add35abfde2c733d264373388a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a164480add35abfde2c733d264373388a">&#9670;&nbsp;</a></span>ext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) ext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Conversation extension property </p>

</div>
</div>
<a id="a21a7bd7077a0bdffcf81fe3f282fe416" name="a21a7bd7077a0bdffcf81fe3f282fe416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a7bd7077a0bdffcf81fe3f282fe416">&#9670;&nbsp;</a></span>latestMessage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_message.html">EMMessage</a>*) latestMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Conversation latest message </p>

</div>
</div>
<a id="a88337abd048972a28dfcc92a8f26a363" name="a88337abd048972a28dfcc92a8f26a363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88337abd048972a28dfcc92a8f26a363">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (EMConversationType) type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Conversation type </p>

</div>
</div>
<a id="ac0f666957be5047ae9560942f168b078" name="ac0f666957be5047ae9560942f168b078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f666957be5047ae9560942f168b078">&#9670;&nbsp;</a></span>unreadMessagesCount</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (int) unreadMessagesCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Unread message count </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>HyphenateChat.framework/Headers/<a class="el" href="_e_m_conversation_8h_source.html">EMConversation.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
